const header=document.querySelector(".header");let scrollPos=0;function shareButtons(){var e={title:"share",width:320,height:500,init:function(){for(var e=document.querySelectorAll(".social"),t=0,o=e.length;t<o;t++)for(var n=e[t].getAttribute("data-url")||location.href,i=e[t].getAttribute("data-title")||"",r=e[t].getAttribute("data-desc")||"",s=e[t].querySelectorAll(".push"),c=0,d=s.length;c<d;c++){var a=s[c].getAttribute("data-id");a&&this.addEventListener(s[c],"click",{id:a,url:n,title:i,desc:r})}},addEventListener:function(e,t,o){var n=this,i=function(){n.share(o.id,o.url,o.title,o.desc)};e.addEventListener?e.addEventListener(t,i):e.attachEvent("on"+t,(function(){i.call(e)}))},share:function(e,t,o,n){switch(t=encodeURIComponent(t),n=encodeURIComponent(n),o=encodeURIComponent(o),e){case"fb":this.popupCenter("https://www.facebook.com/sharer/sharer.php?u="+t,this.title,this.width,this.height);break;case"tw":var i=o||n||"";o.length>0&&n.length>0&&(i=o+" - "+n),i.length>0&&(i="&text="+i),this.popupCenter("https://twitter.com/intent/tweet?url="+t+i,this.title,this.width,this.height);break;case"pin":this.popupCenter("https://pinterest.com/pin/create/button/?url="+t,this.title,this.width,this.height);break;case"lin":this.popupCenter("https://www.linkedin.com/sharing/share-offsite/?url="+t,this.title,this.width,this.height)}},newTab:function(e){window.open(e,"_blank").focus()},popupCenter:function(e,t,o,n){var i=void 0!==window.screenLeft?window.screenLeft:screen.left,r=void 0!==window.screenTop?window.screenTop:screen.top,s=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-o/2+i,c=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-n/3+r,d=window.open(e,t,"scrollbars=yes, width="+o+", height="+n+", top="+c+", left="+s);window.focus&&d.focus()}};window.addEventListener("load",(function(){const t=document.getElementById("social-info"),o=document.querySelectorAll(".push-share");for(i=0;i<o.length;i++)o[i].addEventListener("click",(function(){const o=this.getAttribute("data-id");if(o){const n=t.dataset.url||location.href,i=t.dataset.title||"",r=t.dataset.desc||"";e.share(o,n,i,r)}}))}))}window.addEventListener("load",(function(){window.addEventListener("scroll",(function(){scrollPos<window.scrollY&&scrollPos>=50?(header.classList.add("header-hide"),scrollPos=window.scrollY):(header.classList.remove("header-hide"),scrollPos=window.scrollY),window.scrollY>=50?header.classList.add("header-shadow"):header.classList.remove("header-shadow")})),body=document.body,html=document.querySelector("html"),openedNav=document.querySelector(".nav-wrap"),headerNav=document.querySelector(".header-nav");document.querySelector(".header .menu-btn").addEventListener("click",(function(e){header.classList.toggle("menu-open"),header.classList.contains("menu-open")?(scrollWidth=window.innerWidth-html.offsetWidth+"px",body.style.paddingRight=scrollWidth):body.style.paddingRight=0,document.querySelector("body").classList.toggle("overflow"),e.preventDefault()}));const e=document.querySelectorAll(".header .menu > .has-sub-menu");e.forEach(t=>t.addEventListener("click",(function(){this.classList.contains("active")?e.forEach(e=>e.classList.remove("active")):(e.forEach(e=>e.classList.remove("active")),this.classList.add("active"))})))}));try{shareButtons()}catch(e){console.log(e)}function showCard(e){e.classList.remove("hided"),e.classList.remove("hided-safary-fix")}function hideCard(e){e.classList.add("hided"),setTimeout(()=>{e.classList.add("hided-safary-fix")},450)}function cardFilter(){if(document.querySelector(".section-blog__nav")){const e=document.querySelectorAll(".blog-card");document.querySelector("#blog-item-filter").addEventListener("click",(function(t){if(target=t.target,btnData=target.getAttribute("data-filter"),target.classList.contains("filter-btn")){if("all"==btnData.toLowerCase()){for(i=0;i<e.length;i++)showCard(e[i]);return!0}for(i=0;i<e.length;i++){const t=e[i].getAttribute("data-category").split(",");let o=0;for(x=0;x<t.length;x++)t[x].replace(/\s/g,"").toLowerCase()==btnData.replace(/\s/g,"").toLowerCase()&&(o=1);0==o?hideCard(e[i]):showCard(e[i])}}}))}}try{cardFilter()}catch(e){console.log(e)}const xhr=new XMLHttpRequest,promoText=document.querySelector("#promo-place-text"),promoCode=document.querySelector("#promo-place-code");xhr.open("GET","https://www.pikperfect.com/get-discount"),xhr.responseType="json",xhr.addEventListener("load",(function(){xhr.status<400&&(console.log(xhr.response.code),console.log(xhr.response.text),promoCode.innerHTML="Code:"+xhr.response.code,promoText.innerHTML=" "+xhr.response.text,promoText.classList.remove("promobar-hide"),setTimeout(()=>{promoCode.classList.remove("promobar-hide")},600))})),xhr.send();